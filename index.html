<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Block.js</title>
    <style>
        html, body, canvas { margin: 0; padding: 0; width: 100%; height: 100%;}
    </style>
</head>
<body>
    <script src="./babylon.custom.js"></script>
    <script src="./components/Globals.js"></script>
    <script src="./components/Player.js"></script>
    <script src="./components/Brick.js"></script>
    <script src="./components/Utils.js"></script>
    <script src="https://preview.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>
    <canvas id="render-canvas"></canvas>
    <script>
        /**
         * Handy links:
         * http://doc.babylonjs.com/api/classes/babylon.mesh
         * https://doc.babylonjs.com/how_to/solid_particle_system
         * http://usejsdoc.org/
         */
        
        // Primary game running utilities
        var canvas = document.getElementById("render-canvas");
        var engine = new BABYLON.Engine(canvas);
        var scene = Utils.generateScene(engine, false, false);
        var World = Utils.generateWorld();
        var UI = Utils.generateUI();
        engine.runRenderLoop(function() {
            scene.render();
            player1.movement();

            pulse += 0.1;
            player1.tempBrick._mesh.material.alpha = Math.sin(pulse) / 4 + 0.50;
        });
        var player1 = new Player("Player1", {}, scene);
        player1.moveTo(0, 15, -20);

        //Brick.placeBrickAt(1, 0, 1);
        //Brick.placeBrick(new BABYLON.Vector3(1, 1, 1));
        //currentRotation = 90;
        //Brick.placeBrickAt(1, 2, 1);
        //Brick.placeBrickAt(0, 0, 0);
        //TempBrick.rebuild(player1, BRICKS.b1x2);
        player1.tempBrick.changeBrickSize(BRICKS.b2x1);
    </script>
</body>
</html>